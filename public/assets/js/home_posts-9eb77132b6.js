{let t=function(){let t=$("#post-form");t.submit((function(n){n.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:t.serialize(),success:function(t){let n=e(t.data.post);$("#posts-list-container").prepend(n),o($(" .delete-post-button",n)),ajax_comment(t.data.post._id),new likesToggle($(".likes-toggler-button",n)),new Noty({theme:"sunset",text:"Post created!",type:"success",layout:"topRight",timeout:1e3}).show()},error:function(t){console.log(t.responseText),new Noty({theme:"sunset",text:"Error!: "+t.responseText,type:"alert",layout:"topRight",timeout:1100}).show()}})}))},e=function(t){return $(`\n        <li id="post-${t._id}">\n            <p>\n                <small>\n                    <a class='delete-post-button' href="/posts/destroy/${t._id}">x</a> \n                </small>\n                    ${t.content}\n                <br>\n                <small>\n                    ${t.user.name} &nbsp;\n\t\t\t\t</small>\n\t\t\t\t<small>\n\t\t\t\t\t<a href="/likes/toggle/?id=${t._id}&type=Post" class="likes-toggler-button" id="0">\n\t\t\t\t\t\t0 <i class="far fa-thumbs-up"></i>\n\t\t\t\t\t</a>\n\t\t\t\t</small>\n            </p>\n            <div class="post-comments">\n                <form action="/comments/create" id="comment-${t._id}-form"method="POST">\n                    <input type="text" name="content" placeholder="Comment goes here..." required>\n                    <input type="hidden" name="post_id" value="${t._id}"> \x3c!--Hidden--\x3e\n                    <input type="submit" value="Add Comment">\n                </form>\n                <div class="post-comments-list">\n                    <ul id="comments-post-${t._id}">\n                    </ul>\n                </div>\n            </div>\n        </li>`)},o=function(t){$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$("#post-"+t.data.post_user_id).remove(),new Noty({theme:"sunset",text:"Post deleted!",type:"error",layout:"topRight",timeout:1e3}).show()},error:function(t){console.log(t.responseText),new Noty({theme:"sunset",text:"Error!: "+t.responseText,type:"alert",layout:"topRight",timeout:1100}).show()}})}))};function applyDeleteToAllPosts(){let t=$("#posts-list-container > li");for(let e of t){o($(" .delete-post-button",e));let t=$(e).prop("id").split("-")[1];ajax_comment(t)}}t(),applyDeleteToAllPosts()}