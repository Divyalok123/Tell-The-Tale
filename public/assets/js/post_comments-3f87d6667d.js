function ajax_comment(t){let e=function(t){return $(`<li id="comment-${t._id}">\n                    <p>\n                        <small>\n                            <a class="delete-comment-button" href="/comments/destroy/${t._id}">x</a>\n                        </small>\n                        ${t.content}\n                        <br>\n                        <small>\n                            ${t.user.name} &nbsp;\n\t\t\t\t\t\t</small>\n\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t<a href="/likes/toggle/?type=Comment&id=${t._id}" class="likes-toggler-button" id="0">\n\t\t\t\t\t\t\t\t0 <i class="far fa-thumbs-up"></i>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</small>\n\t\n                    </p>\n                </li>`)},o=function(t){$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$("#comment-"+t.data.comment_id).remove(),new Noty({theme:"sunset",text:"Comment Deleted!",type:"error",layout:"topRight",timeout:1100}).show()},error:function(t){console.log(t),console.log(t.responseText),new Noty({theme:"sunset",text:"Error occured while deleting comment",type:"alert",layout:"topRight",timeout:1100}).show()}})}))};!function(){let n=$(`#comment-${t}-form`);n.submit((function(s){s.preventDefault(),$.ajax({type:"post",url:"/comments/create",data:n.serialize(),success:function(n){let s=e(n.data.comment);$("#comments-post-"+t).prepend(s),o($(" .delete-comment-button",s)),new likesToggle($(".likes-toggler-button",s)),new Noty({theme:"sunset",text:"Comment added to the post!",type:"success",layout:"topRight",timeout:1e3}).show()},error:function(t){console.log(t.responseText),new Noty({theme:"sunset",text:"Error occured while posting comment!",type:"alert",layout:"topRight",timeout:1e3}).show()}})}))}(),function(){let e=$(`#comments-post-${t} > li`);for(let t of e)o($(".delete-comment-button",t))}()}